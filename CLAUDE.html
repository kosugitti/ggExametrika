<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ggExametrika 開発方針 • ggExametrika</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="ggExametrika 開発方針"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">ggExametrika</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.29</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/getting-started.html">Getting Started (English)</a></li>
    <li><a class="dropdown-item" href="articles/getting-started-ja.html">入門ガイド (日本語)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kosugitti/ggExametrika" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>ggExametrika 開発方針</h1>
      <small class="dont-index">Source: <a href="https://github.com/kosugitti/ggExametrika/blob/main/CLAUDE.md" class="external-link"><code>CLAUDE.md</code></a></small>
    </div>

<div id="ggexametrika-開発方針" class="section level1">

<div class="section level2">
<h2 id="プロジェクト概要">プロジェクト概要<a class="anchor" aria-label="anchor" href="#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A6%82%E8%A6%81"></a></h2>
<p>exametrikaパッケージの出力をggplot2で可視化するためのパッケージ。 CRAN公開を目指す。</p>
</div>
<div class="section level2">
<h2 id="親パッケージ">親パッケージ<a class="anchor" aria-label="anchor" href="#%E8%A6%AA%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8"></a></h2>
<ul><li>場所: <code>../exametrika/</code>
</li>
<li>参照: <a href="https://kosugitti.github.io/Exametrika/" class="external-link uri">https://kosugitti.github.io/Exametrika/</a>
</li>
</ul></div>
<div class="section level2">
<h2 id="開発方針">開発方針<a class="anchor" aria-label="anchor" href="#%E9%96%8B%E7%99%BA%E6%96%B9%E9%87%9D"></a></h2>
<div class="section level3">
<h3 id="変更記録ルール恒久厳守">変更記録ルール（恒久・厳守）<a class="anchor" aria-label="anchor" href="#%E5%A4%89%E6%9B%B4%E8%A8%98%E9%8C%B2%E3%83%AB%E3%83%BC%E3%83%AB%E6%81%92%E4%B9%85%E5%8E%B3%E5%AE%88"></a></h3>
<p><strong>軽微なバグ修正でも何でも、変更を加えたら必ずNEWS.mdに記録すること。</strong></p>
<p>これは殿（プロジェクトオーナー）からの全体指示であり、全ての作業に適用される恒久的なルールである。 コードの変更、ドキュメントの修正、リファクタリング、バグ修正など、種類や規模を問わず、 変更があればNEWS.mdに記録する。記録を省略してはならない。</p>
</div>
<div class="section level3">
<h3 id="コーディング規約">コーディング規約<a class="anchor" aria-label="anchor" href="#%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E8%A6%8F%E7%B4%84"></a></h3>
<ul><li>roxygen2によるドキュメント生成</li>
<li>testthatによるユニットテスト</li>
<li>CRAN準拠のチェックをパスすること</li>
</ul></div>
<div class="section level3">
<h3 id="関数命名規則">関数命名規則<a class="anchor" aria-label="anchor" href="#%E9%96%A2%E6%95%B0%E5%91%BD%E5%90%8D%E8%A6%8F%E5%89%87"></a></h3>
<ul><li>plot関数: <code>plot_*()</code> または <code>gg*()</code> 形式を検討</li>
<li>内部関数: <code>.</code> prefix</li>
</ul></div>
<div class="section level3">
<h3 id="共通オプション全plot関数に適用">共通オプション（全plot関数に適用）<a class="anchor" aria-label="anchor" href="#%E5%85%B1%E9%80%9A%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E5%85%A8plot%E9%96%A2%E6%95%B0%E3%81%AB%E9%81%A9%E7%94%A8"></a></h3>
<p>全てのplot関数は以下の共通引数を持つこと。新規実装時は必ず含める。既存関数は段階的に対応する。</p>
<table style="width:100%;" class="table"><colgroup><col width="22%"><col width="14%"><col width="40%"><col width="22%"></colgroup><thead><tr class="header"><th>引数</th>
<th>型</th>
<th>デフォルト</th>
<th>説明</th>
</tr></thead><tbody><tr class="odd"><td><code>title</code></td>
<td>logical or character</td>
<td><code>TRUE</code></td>
<td>TRUE=自動タイトル、FALSE=非表示、文字列=カスタムタイトル</td>
</tr><tr class="even"><td><code>colors</code></td>
<td>character vector</td>
<td><code>NULL</code></td>
<td>NULL=デフォルトパレット、指定でカスタム色</td>
</tr><tr class="odd"><td><code>linetype</code></td>
<td>character or numeric</td>
<td>関数依存</td>
<td>線の種類（“solid”, “dashed”等）</td>
</tr><tr class="even"><td><code>show_legend</code></td>
<td>logical</td>
<td>関数依存</td>
<td>凡例の表示/非表示</td>
</tr><tr class="odd"><td><code>legend_position</code></td>
<td>character</td>
<td><code>"right"</code></td>
<td>“top”, “bottom”, “left”, “right”, “none”</td>
</tr></tbody></table><p><strong>注意:</strong> - <code>colors</code> が <code>NULL</code> の場合、カラーバリアフリーに配慮したデフォルトパレットを使用する - 凡例が不要なプロット（単一曲線のみ等）は <code>show_legend = FALSE</code> をデフォルトとする - 返り値はggplotオブジェクトなので、ユーザーが <code>+ theme()</code> 等で後から変更することも可能</p>
</div>
<div class="section level3">
<h3 id="依存パッケージ">依存パッケージ<a class="anchor" aria-label="anchor" href="#%E4%BE%9D%E5%AD%98%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8"></a></h3>
<ul><li>ggplot2 (必須)</li>
<li>gridExtra (複数プロット配置)</li>
<li>ggraph, igraph (DAG可視化用)</li>
<li>visNetwork (インタラクティブDAG編集用、予定)</li>
<li>exametrikaはSuggestsに入れる（CRAN対応のため）</li>
</ul></div>
<div class="section level3">
<h3 id="cranチェックリスト">CRANチェックリスト<a class="anchor" aria-label="anchor" href="#cran%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E3%83%AA%E3%82%B9%E3%83%88"></a></h3>
<ul class="task-list"><li><label><input type="checkbox">R CMD check –as-cran でWARNING/ERRORなし</label></li>
<li><label><input type="checkbox">NEWS.mdの更新</label></li>
<li><label><input type="checkbox">DESCRIPTIONのバージョン更新</label></li>
<li><label><input type="checkbox">examplesの動作確認</label></li>
<li><label><input type="checkbox">ドキュメントの整備</label></li>
</ul></div>
</div>
<div class="section level2">
<h2 id="バージョン100に向けて">バージョン1.0.0に向けて<a class="anchor" aria-label="anchor" href="#%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3100%E3%81%AB%E5%90%91%E3%81%91%E3%81%A6"></a></h2>
<p>exametrikaの全プロット機能をggplot2で実装完了したらv1.0.0とする。 合宿期間中（2026年2月）に v1.0.0 リリースを目指す。 3名体制で並行開発を進める。</p>
<div class="section level3">
<h3 id="exametrikaのプロットタイプ一覧と実装状況exametrika-v190-準拠">exametrikaのプロットタイプ一覧と実装状況（exametrika v1.9.0 準拠）<a class="anchor" aria-label="anchor" href="#exametrika%E3%81%AE%E3%83%97%E3%83%AD%E3%83%83%E3%83%88%E3%82%BF%E3%82%A4%E3%83%97%E4%B8%80%E8%A6%A7%E3%81%A8%E5%AE%9F%E8%A3%85%E7%8A%B6%E6%B3%81exametrika-v190-%E6%BA%96%E6%8B%A0"></a></h3>
<p>※ 対応モデル欄はexametrikaのplot.exametrika内valid_typesに基づく</p>
<table class="table"><colgroup><col width="30%"><col width="22%"><col width="34%"><col width="12%"></colgroup><thead><tr class="header"><th>プロットタイプ</th>
<th>対応モデル</th>
<th>ggExametrika関数</th>
<th>状況</th>
</tr></thead><tbody><tr class="odd"><td>IRF/ICC (IRT)</td>
<td>IRT</td>
<td>plotICC_gg</td>
<td>実装済</td>
</tr><tr class="even"><td>ICRF (GRM)</td>
<td>GRM</td>
<td>plotICRF_gg</td>
<td>実装済</td>
</tr><tr class="odd"><td>TRF</td>
<td>IRT</td>
<td>plotTRF_gg</td>
<td>実装済(IRT)</td>
</tr><tr class="even"><td>IIF/IIC</td>
<td>IRT, GRM</td>
<td>plotIIC_gg</td>
<td>実装済</td>
</tr><tr class="odd"><td>TIF/TIC</td>
<td>IRT, GRM</td>
<td>plotTIC_gg</td>
<td>実装済</td>
</tr><tr class="even"><td>IRP</td>
<td>LCA, LRA, LDLRA</td>
<td>plotIRP_gg</td>
<td>実装済</td>
</tr><tr class="odd"><td>FRP</td>
<td>LCA, LRA, Biclustering, nominalBiclustering, ordinalBiclustering, IRM, LDB, BINET</td>
<td>plotFRP_gg</td>
<td><strong>実装済（2値・多値対応、stat対応、共通オプション対応済み）</strong></td>
</tr><tr class="even"><td>TRP</td>
<td>LCA, LRA, Biclustering, IRM, LDLRA, LDB, BINET</td>
<td>plotTRP_gg</td>
<td>実装済</td>
</tr><tr class="odd"><td>LCD</td>
<td>LCA, Biclustering, nominalBiclustering, ordinalBiclustering</td>
<td>plotLCD_gg</td>
<td>実装済（多値対応確認済み）</td>
</tr><tr class="even"><td>LRD</td>
<td>LRA, Biclustering, nominalBiclustering, ordinalBiclustering, LDLRA, LDB, BINET</td>
<td>plotLRD_gg</td>
<td>実装済（多値対応確認済み）</td>
</tr><tr class="odd"><td>CMP</td>
<td>LCA, Biclustering, nominalBiclustering, ordinalBiclustering, BINET</td>
<td>plotCMP_gg</td>
<td>実装済（多値対応確認済み）</td>
</tr><tr class="even"><td>RMP</td>
<td>LRA, Biclustering, ordinalBiclustering, LDLRA, LDB, BINET, LRAordinal, LRArated</td>
<td>plotRMP_gg</td>
<td>実装済（多値対応確認済み）</td>
</tr><tr class="odd"><td>CRV</td>
<td>Biclustering, nominalBiclustering, ordinalBiclustering</td>
<td>plotCRV_gg</td>
<td>実装済（多値対応済み、stat対応済み、共通オプション対応済み）</td>
</tr><tr class="even"><td>RRV</td>
<td>Biclustering, nominalBiclustering, ordinalBiclustering</td>
<td>plotRRV_gg</td>
<td>実装済（多値対応済み、stat対応済み、共通オプション対応済み）</td>
</tr><tr class="odd"><td>Array</td>
<td>Biclustering, nominalBiclustering, ordinalBiclustering, IRM, LDB, BINET</td>
<td>plotArray_gg</td>
<td>実装済（多値対応済み、共通オプション対応済み）</td>
</tr><tr class="even"><td><strong>FCRP</strong></td>
<td>nominalBiclustering, ordinalBiclustering</td>
<td>plotFCRP_gg</td>
<td><strong>実装済（v1.9.0新規、style対応、共通オプション対応済み）</strong></td>
</tr><tr class="odd"><td><strong>FCBR</strong></td>
<td>ordinalBiclustering</td>
<td>plotFCBR_gg</td>
<td><strong>実装済（v1.9.0新規、ordinal専用、共通オプション対応済み）</strong></td>
</tr><tr class="even"><td><strong>ScoreField</strong></td>
<td>nominalBiclustering, ordinalBiclustering</td>
<td>plotScoreField_gg</td>
<td><strong>実装済（v1.9.0新規、共通オプション対応済み）</strong></td>
</tr><tr class="odd"><td>FieldPIRP</td>
<td>LDB</td>
<td>plotFieldPIRP_gg</td>
<td>実装済</td>
</tr><tr class="even"><td>LDPSR</td>
<td>BINET</td>
<td>-</td>
<td>未実装</td>
</tr><tr class="odd"><td>ScoreFreq</td>
<td>LRAordinal, LRArated</td>
<td>plotScoreFreq_gg</td>
<td>実装済</td>
</tr><tr class="even"><td>ScoreRank</td>
<td>LRAordinal, LRArated</td>
<td>plotScoreRank_gg</td>
<td>実装済（共通オプション対応済み）</td>
</tr><tr class="odd"><td>ICRP</td>
<td>LRAordinal, LRArated</td>
<td>plotICRP_gg</td>
<td>実装済（共通オプション対応済み）</td>
</tr><tr class="even"><td>ICBR</td>
<td>LRAordinal</td>
<td>plotICBR_gg</td>
<td>実装済（共通オプション対応済み）</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="exametrikaのモデル一覧とプロット対応plotexametrika-valid_types準拠v190">exametrikaのモデル一覧とプロット対応（plot.exametrika valid_types準拠、v1.9.0）<a class="anchor" aria-label="anchor" href="#exametrika%E3%81%AE%E3%83%A2%E3%83%87%E3%83%AB%E4%B8%80%E8%A6%A7%E3%81%A8%E3%83%97%E3%83%AD%E3%83%83%E3%83%88%E5%AF%BE%E5%BF%9Cplotexametrika-valid_types%E6%BA%96%E6%8B%A0v190"></a></h3>
<table class="table"><colgroup><col width="29%"><col width="70%"></colgroup><thead><tr class="header"><th>モデル</th>
<th>対応プロットタイプ</th>
</tr></thead><tbody><tr class="odd"><td>IRT</td>
<td>IRF/ICC, TRF, IIF/IIC, TIF/TIC</td>
</tr><tr class="even"><td>GRM</td>
<td>IRF/ICC, IIF/IIC, TIF/TIC</td>
</tr><tr class="odd"><td>LCA</td>
<td>IRP, FRP, TRP, LCD, CMP</td>
</tr><tr class="even"><td>LRA</td>
<td>IRP, FRP, TRP, LRD, RMP</td>
</tr><tr class="odd"><td>LRAordinal</td>
<td>ScoreFreq, ScoreRank, ICRP, ICBR, RMP</td>
</tr><tr class="even"><td>LRArated</td>
<td>ScoreFreq, ScoreRank, ICRP, RMP</td>
</tr><tr class="odd"><td>Biclustering</td>
<td>FRP, TRP, LCD, LRD, CMP, RMP, CRV, RRV, Array</td>
</tr><tr class="even"><td><strong>nominalBiclustering</strong></td>
<td>FRP, <strong>FCRP</strong>, LCD, LRD, CMP, Array, <strong>ScoreField</strong>, CRV, RRV</td>
</tr><tr class="odd"><td><strong>ordinalBiclustering</strong></td>
<td>FRP, <strong>FCRP</strong>, <strong>FCBR</strong>, LCD, LRD, CMP, RMP, Array, <strong>ScoreField</strong>, CRV, RRV</td>
</tr><tr class="even"><td>IRM (Biclustering_IRM)</td>
<td>FRP, TRP, Array</td>
</tr><tr class="odd"><td>LDLRA</td>
<td>IRP, TRP, LRD, RMP</td>
</tr><tr class="even"><td>LDB</td>
<td>FRP, TRP, LRD, RMP, Array, FieldPIRP</td>
</tr><tr class="odd"><td>BINET</td>
<td>FRP, TRP, LRD, RMP, Array, LDPSR</td>
</tr></tbody></table><p><strong>太字</strong> = v1.9.0で追加された多値バイクラスタリング向けプロット</p>
</div>
<div class="section level3">
<h3 id="dag可視化printexametrikaでigraph使用">DAG可視化（print.exametrikaでigraph使用）<a class="anchor" aria-label="anchor" href="#dag%E5%8F%AF%E8%A6%96%E5%8C%96printexametrika%E3%81%A7igraph%E4%BD%BF%E7%94%A8"></a></h3>
<table class="table"><thead><tr class="header"><th>モデル</th>
<th>内容</th>
</tr></thead><tbody><tr class="odd"><td>BNM</td>
<td>DAGの可視化</td>
</tr><tr class="even"><td>LDLRA</td>
<td>ランク/クラスごとのDAG</td>
</tr><tr class="odd"><td>LDB</td>
<td>ランクごとのDAG</td>
</tr><tr class="even"><td>BINET</td>
<td>統合グラフ（edge label付き）</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="追加機能exametrikaにはないggexametrika独自の機能">追加機能（exametrikaにはないggExametrika独自の機能）<a class="anchor" aria-label="anchor" href="#%E8%BF%BD%E5%8A%A0%E6%A9%9F%E8%83%BDexametrika%E3%81%AB%E3%81%AF%E3%81%AA%E3%81%84ggexametrika%E7%8B%AC%E8%87%AA%E3%81%AE%E6%A9%9F%E8%83%BD"></a></h3>
<div class="section level4">
<h4 id="オーバーレイプロット関数">オーバーレイプロット関数<a class="anchor" aria-label="anchor" href="#%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%AC%E3%82%A4%E3%83%97%E3%83%AD%E3%83%83%E3%83%88%E9%96%A2%E6%95%B0"></a></h4>
<p>exametrikaでは<code>overlay = TRUE</code>パラメータで複数の曲線を1つのグラフに重ねて表示できるが、 ggExametrikaでは別関数として実装し、より明示的に使い分けられるようにした。</p>
<ul class="task-list"><li><label><input type="checkbox" checked><code><a href="reference/plotICC_overlay_gg.html">plotICC_overlay_gg()</a></code> — IRT全アイテムのICCを1枚のグラフに重ねて表示（実装済み）</label></li>
<li><label><input type="checkbox" checked><code><a href="reference/plotIIC_overlay_gg.html">plotIIC_overlay_gg()</a></code> — IRT/GRM全アイテムのIICを1枚のグラフに重ねて表示（実装済み）</label></li>
</ul></div>
</div>
<div class="section level3">
<h3 id="未実装機能v100までに実装予定">未実装機能（v1.0.0までに実装予定）<a class="anchor" aria-label="anchor" href="#%E6%9C%AA%E5%AE%9F%E8%A3%85%E6%A9%9F%E8%83%BDv100%E3%81%BE%E3%81%A7%E3%81%AB%E5%AE%9F%E8%A3%85%E4%BA%88%E5%AE%9A"></a></h3>
<div class="section level4">
<h4 id="v190で追加された多値バイクラスタリングプロット新規実装">v1.9.0で追加された多値バイクラスタリングプロット（新規実装）<a class="anchor" aria-label="anchor" href="#v190%E3%81%A7%E8%BF%BD%E5%8A%A0%E3%81%95%E3%82%8C%E3%81%9F%E5%A4%9A%E5%80%A4%E3%83%90%E3%82%A4%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0%E3%83%97%E3%83%AD%E3%83%83%E3%83%88%E6%96%B0%E8%A6%8F%E5%AE%9F%E8%A3%85"></a></h4>
<ol style="list-style-type: decimal"><li>
<del><strong>FCRP</strong> (Field Category Response Profile)</del> — カテゴリ確率プロット、style パラメータ（line/bar）対応 → <code><a href="reference/plotFCRP_gg.html">plotFCRP_gg()</a></code> として実装済み ✅
<ul><li>対応モデル: nominalBiclustering, ordinalBiclustering</li>
<li>共通オプション完全対応（title, colors, linetype, show_legend, legend_position）</li>
</ul></li>
<li>
<del><strong>FCBR</strong> (Field Cumulative Boundary Reference)</del> — 境界確率プロット（ordinal専用） → <code><a href="reference/plotFCBR_gg.html">plotFCBR_gg()</a></code> として実装済み ✅</li>
<li>
<del><strong>ScoreField</strong></del> — 期待得点ヒートマップ（フィールド×クラス/ランク） → <code><a href="reference/plotScoreField_gg.html">plotScoreField_gg()</a></code> として実装済み ✅</li>
</ol></div>
<div class="section level4">
<h4 id="多値版対応既存関数の拡張">多値版対応（既存関数の拡張）<a class="anchor" aria-label="anchor" href="#%E5%A4%9A%E5%80%A4%E7%89%88%E5%AF%BE%E5%BF%9C%E6%97%A2%E5%AD%98%E9%96%A2%E6%95%B0%E3%81%AE%E6%8B%A1%E5%BC%B5"></a></h4>
<ol start="4" style="list-style-type: decimal"><li>
<del><strong>FRP</strong></del> — 多値版で stat パラメータ（mean/median/mode）対応 → 実装完了 ✅
<ul><li>2値・多値両対応、stat パラメータ（mean/median/mode）実装済み</li>
<li>共通オプション完全対応（title, colors, linetype, show_legend, legend_position）</li>
</ul></li>
<li>
<del><strong>RRV/CRV</strong></del> — 多値版で stat パラメータ（mean/median/mode）対応 → 実装完了 ✅
<ul><li>2値・多値両対応、stat パラメータ（mean/median/mode）実装済み</li>
<li>show_labels パラメータ追加（ggrepel使用）</li>
<li>Y軸自動調整（2値: 0-1、多値: 1-maxQ）</li>
</ul></li>
</ol></div>
<div class="section level4">
<h4 id="その他の未実装プロット">その他の未実装プロット<a class="anchor" aria-label="anchor" href="#%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E6%9C%AA%E5%AE%9F%E8%A3%85%E3%83%97%E3%83%AD%E3%83%83%E3%83%88"></a></h4>
<ol start="5" style="list-style-type: decimal"><li>LDPSR (Latent Dependence Passing Student Rate) — BINET専用</li>
</ol></div>
<div class="section level4">
<h4 id="dag可視化printexametrikaでigraph使用--ggraph化">DAG可視化（print.exametrikaでigraph使用 → ggraph化）<a class="anchor" aria-label="anchor" href="#dag%E5%8F%AF%E8%A6%96%E5%8C%96printexametrika%E3%81%A7igraph%E4%BD%BF%E7%94%A8--ggraph%E5%8C%96"></a></h4>
<p><strong>開発順序は厳守すること。BNM → LDLRA → LDB → BINET の順に実装する。</strong> 前のモデルが完成するまで次のモデルに着手してはならない。 各モデルは前段の構造を土台にしており、順番を飛ばすと設計が破綻する。</p>
<ol start="6" style="list-style-type: decimal"><li>
<strong>BNM（Bayesian Network Model）</strong> — 項目同士のベイジアンネットワーク
<ul><li>項目（Item）ノード間の有向グラフ（DAG）を描画する</li>
<li>最も基本的なDAG可視化であり、他の全モデルの土台となる</li>
<li>ノードは項目、エッジは項目間の依存関係を表す</li>
</ul></li>
<li>
<strong>LDLRA（Latent Rank Analysis with Local Dependence）</strong> — ランクごとの項目DAG
<ul><li>ランクごとに独立した項目同士のネットワークを描くグラフ</li>
<li>BNMの拡張：同じ項目ノード間のDAGが、ランクごとに異なる構造を持つ</li>
<li>参考図: <code>develop/TDE_figures/LDLRA_TDE02.png</code>（ランクごとに区切られた項目DAG）</li>
</ul></li>
<li>
<strong>LDB（Local Dependence Biclustering）</strong> — ランクごとのフィールドDAG
<ul><li>ランクごとに独立したバイクラスタリングで、ランクごとにフィールド（Field）同士のネットワークを描くグラフ</li>
<li>LDLRAとの違い：ノードが項目ではなくフィールド（Latent Field、緑ダイヤ）</li>
<li>ランクごとにフィールドの依存構造が異なる</li>
<li>参考図: <code>develop/TDE_figures/LDB_TDE01.png</code>（ランクごとのフィールドDAG横並び）</li>
<li>参考図: <code>develop/TDE_figures/LDB_TDE02.png</code>（パラメータ推定値重ね表示版）</li>
</ul></li>
<li>
<strong>BINET（Bicluster Network Model）</strong> — 統合ネットワーク（最も複雑）
<ul><li>項目全体を通じて、ランク（Latent Class）のつながりとフィールド（Latent Field）のつながりをネットワークで表す統合グラフ</li>
<li><strong>あるランクの人間が次のランクに行くために、どのフィールドを経由するかを表現するモデル</strong></li>
<li>Latent Class（青四角）とLatent Field（緑ダイヤ）の2種類のノードを同時にプロットしなければならない</li>
<li>クラス間のエッジ上にフィールドが配置される構造</li>
<li>参考図: <code>develop/TDE_figures/BINET_TDE01.png</code>（クラス+フィールドの統合ネットワーク）</li>
<li>参考図: <code>develop/TDE_figures/BINET_TDE02.png</code>（Local Dependence PSRs重ね表示版）</li>
<li>参考図: <code>develop/TDE_figures/BINET_CMP_TDE.png</code>（グラフ上にCMP/LCDを表示した版）</li>
<li>BNM, LDLRA, LDBの全てを理解した上で初めて実装できる。絶対に先にやるな</li>
</ul></li>
</ol></div>
<div class="section level4">
<h4 id="既存関数の共通オプション対応todo">既存関数の共通オプション対応（TODO）<a class="anchor" aria-label="anchor" href="#%E6%97%A2%E5%AD%98%E9%96%A2%E6%95%B0%E3%81%AE%E5%85%B1%E9%80%9A%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E5%AF%BE%E5%BF%9Ctodo"></a></h4>
<p>以下の関数に共通オプション（title, colors, linetype, show_legend, legend_position）を追加する。</p>
<ul class="task-list"><li><label><input type="checkbox" checked>plotICC_gg — 共通オプション対応済み (v0.0.27)</label></li>
<li><label><input type="checkbox" checked>plotIIC_gg — 共通オプション対応済み (IRT/GRM両対応)</label></li>
<li><label><input type="checkbox" checked>plotTIC_gg — 共通オプション対応済み (IRT/GRM両対応、v0.0.27でcolor→colors改名)</label></li>
<li><label><input type="checkbox" checked>plotTRF_gg — 共通オプション対応済み (v0.0.27)</label></li>
<li><label><input type="checkbox" checked>plotIRP_gg — 共通オプション対応済み (v0.0.27)</label></li>
<li><label><input type="checkbox" checked>plotFRP_gg — 共通オプション対応済み（2値・多値両対応、stat パラメータ含む）</label></li>
<li><label><input type="checkbox" checked>plotTRP_gg — 共通オプション対応済み (v0.0.27、colors[1]=bar fill, colors[2]=line color)</label></li>
<li><label><input type="checkbox" checked>plotLCD_gg — 共通オプション対応済み (v0.0.27、colors[1]=bar fill, colors[2]=line color)</label></li>
<li><label><input type="checkbox" checked>plotLRD_gg — 共通オプション対応済み (v0.0.27、colors[1]=bar fill, colors[2]=line color)</label></li>
<li><label><input type="checkbox" checked>plotCMP_gg — 共通オプション対応済み (v0.0.27)</label></li>
<li><label><input type="checkbox" checked>plotRMP_gg — 共通オプション対応済み (v0.0.27)</label></li>
<li><label><input type="checkbox" checked>plotArray_gg — 共通オプション対応済み（多値データ対応含む）</label></li>
<li><label><input type="checkbox" checked>plotFieldPIRP_gg — 共通オプション対応済み (v0.0.27)</label></li>
<li><label><input type="checkbox" checked>plotGraph_gg — 共通オプション対応済み (v0.0.27、title/colors/show_legend/legend_position。linetypeはDAGには不適合のため除外)</label></li>
</ul></div>
<div class="section level4">
<h4 id="新規実装予定関数v190対応共通オプションは実装時に検討">新規実装予定関数（v1.9.0対応、共通オプションは実装時に検討）<a class="anchor" aria-label="anchor" href="#%E6%96%B0%E8%A6%8F%E5%AE%9F%E8%A3%85%E4%BA%88%E5%AE%9A%E9%96%A2%E6%95%B0v190%E5%AF%BE%E5%BF%9C%E5%85%B1%E9%80%9A%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AF%E5%AE%9F%E8%A3%85%E6%99%82%E3%81%AB%E6%A4%9C%E8%A8%8E"></a></h4>
<ul class="task-list"><li><label><input type="checkbox" checked>plotFCRP_gg — v1.9.0新規（style パラメータ: line/bar）実装済み</label></li>
<li><label><input type="checkbox" checked>plotFCBR_gg — v1.9.0新規（ordinal専用）実装済み</label></li>
<li><label><input type="checkbox" checked>plotScoreField_gg — v1.9.0新規（ヒートマップ）実装済み</label></li>
<li><label><input type="checkbox">plotLDPSR_gg — BINET専用</label></li>
</ul></div>
</div>
<div class="section level3">
<h3 id="dag可視化の開発方針">DAG可視化の開発方針<a class="anchor" aria-label="anchor" href="#dag%E5%8F%AF%E8%A6%96%E5%8C%96%E3%81%AE%E9%96%8B%E7%99%BA%E6%96%B9%E9%87%9D"></a></h3>
<p><strong>開発順序（厳守）: BNM → LDLRA → LDB → BINET</strong></p>
<p>各モデルの構造的な積み上げ関係：</p>
<pre><code>BNM:    項目ノード間の単純DAG（基礎）
  ↓
LDLRA:  BNMをランクごとに分割（項目ノード × ランク区切り）
  ↓
LDB:    ノードがフィールドに変わる（フィールドノード × ランク区切り）
  ↓
BINET:  クラスノード + フィールドノードの統合グラフ（最終形）</code></pre>
<p><strong>参考画像</strong>: <code>develop/TDE_figures/</code> にTest Data Engineeringからの出力例がある。 これらの図に近づけることが目的。</p>
<p><strong>2段階アプローチを採用:</strong></p>
<ol style="list-style-type: decimal"><li>
<strong>plotGraph_interactive()</strong> - visNetworkでインタラクティブ編集版
<ul><li>ノードをドラッグして位置調整可能</li>
<li>編集後の座標を取得可能</li>
<li>レイアウトの試行錯誤用</li>
</ul></li>
<li>
<strong>plotGraph_gg()</strong> - ggraphで静的ggplotオブジェクト版
<ul><li>インタラクティブ版で決めた座標を引数で渡せる</li>
<li>論文・レポート用の清書版</li>
</ul></li>
</ol><p><strong>ワークフロー:</strong></p>
<pre><code>visNetwork(インタラクティブ編集) → 座標取得 → ggraph(静的プロット生成)</code></pre>
<p><strong>現在の状態 (2025-12-12):</strong> - <code>R/plotGraph_gg.R</code> 作成済み（未テスト） - DESCRIPTIONにggraph, igraph追加済み - 次回: visNetwork版の実装、テスト</p>
</div>
</div>
<div class="section level2">
<h2 id="共同開発ルール3名体制">共同開発ルール（3名体制）<a class="anchor" aria-label="anchor" href="#%E5%85%B1%E5%90%8C%E9%96%8B%E7%99%BA%E3%83%AB%E3%83%BC%E3%83%AB3%E5%90%8D%E4%BD%93%E5%88%B6"></a></h2>
<div class="section level3">
<h3 id="git運用推奨ワークフロー">Git運用（推奨ワークフロー）<a class="anchor" aria-label="anchor" href="#git%E9%81%8B%E7%94%A8%E6%8E%A8%E5%A5%A8%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC"></a></h3>
<div class="section level4">
<h4 id="基本フロー">基本フロー<a class="anchor" aria-label="anchor" href="#%E5%9F%BA%E6%9C%AC%E3%83%95%E3%83%AD%E3%83%BC"></a></h4>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># 1. 作業前に最新を取得</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">git</span> checkout main</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="fu">git</span> pull origin main</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co"># 2. featureブランチを作成（機能ごと）</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="fu">git</span> checkout <span class="at">-b</span> feature/機能名</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co"># 例: feature/score-freq, feature/dag-viz, fix/legend-bug</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co"># 3. 開発・コミット（1機能1コミット）</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Add plotScoreFreq_gg for score frequency"</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="co"># 4. リモートにpush</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="fu">git</span> push origin feature/機能名</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="co"># 5. 作業完了後、mainにマージ</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="fu">git</span> checkout main</span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="fu">git</span> merge feature/機能名</span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="fu">git</span> push origin main</span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="co"># 6. 不要なブランチを削除</span></span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a><span class="fu">git</span> branch <span class="at">-d</span> feature/機能名</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="ブランチ命名規則">ブランチ命名規則<a class="anchor" aria-label="anchor" href="#%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E5%91%BD%E5%90%8D%E8%A6%8F%E5%89%87"></a></h4>
<ul><li>
<strong>feature/機能名</strong>: 新機能開発（例: <code>feature/score-freq</code>, <code>feature/icrp</code>）</li>
<li>
<strong>fix/修正内容</strong>: バグ修正（例: <code>fix/legend-position</code>, <code>fix/sort-order</code>）</li>
<li>
<strong>refactor/対象</strong>: リファクタリング（例: <code>refactor/common-options</code>）</li>
</ul></div>
<div class="section level4">
<h4 id="重要なポイント">重要なポイント<a class="anchor" aria-label="anchor" href="#%E9%87%8D%E8%A6%81%E3%81%AA%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88"></a></h4>
<ul><li>作業前に必ず <code>git pull</code> で最新を取得する</li>
<li>機能単位でこまめにコミットする（1機能1コミット）</li>
<li>コミットメッセージは変更内容がわかるように書く（例: <code>Add plotTRF_gg for TRF visualization</code>）</li>
<li>作業が一段落したら <code>git push</code> して他のメンバーと共有する</li>
<li>同じファイルの同時編集はなるべく避ける。担当を分けること</li>
<li>mainブランチへの直接commitは避け、featureブランチ経由でマージする</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="作業ログlogmd">作業ログ（log.md）<a class="anchor" aria-label="anchor" href="#%E4%BD%9C%E6%A5%AD%E3%83%AD%E3%82%B0logmd"></a></h3>
<ul><li>作業開始時に日付と担当者名を記録する</li>
<li>何を実装/修正したか、判断の理由を簡潔に書く</li>
<li>次回の課題・残作業を明記する</li>
<li>他のメンバーが読んでも状況がわかるように書く</li>
</ul></div>
<div class="section level3">
<h3 id="作業の進め方">作業の進め方<a class="anchor" aria-label="anchor" href="#%E4%BD%9C%E6%A5%AD%E3%81%AE%E9%80%B2%E3%82%81%E6%96%B9"></a></h3>
<ul><li>実装前にCLAUDE.mdの未実装リストで担当を確認する</li>
<li>実装後は <code>devtools::document()</code> でドキュメント更新する</li>
<li>実装状況表（上記）を更新する</li>
<li>NEWS.md に変更を追記する</li>
</ul></div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Koji Kosugi, Daichi Kamimura.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

